This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
__init__.py
__manifest__.py
.gitignore
models/__init__.py
models/inherit_account_payment.py
models/inherit_res_partner.py
models/vet_appointment.py
models/vet_medication.py
models/vet_patient.py
models/vet_treatment.py
README.md
security/ir.model.access.csv
static/description/icon.png
views/inherit_account_payment_views.xml
views/inherit_res_partner_views.xml
views/menus.xml
views/vet_appointment_views.xml
views/vet_medication_views.xml
views/vet_patient_views.xml
views/vet_treatment_views.xml
wizard/.gitkeep
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="views/inherit_account_payment_views.xml">
<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_account_payment_form_inherit_vet" model="ir.ui.view">
        <field name="name">account.payment.form.inherit.vet</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_form" />
        <field name="arch" type="xml">

            <!-- Ac√° se inserta el campo tipo de Pago despu√©s del campo diario (Journal) -->
            <xpath expr="//field[@name='journal_id']" position="after">
                <field name="vet_payment_method_type" widget="radio" options="{'horizontal': true}" />
                <field name="vet_appointment_id" readonly="1" invisible="not vet_appointment_id" />
            </xpath>

        </field>
    </record>
</odoo>
</file>

<file path="views/vet_medication_views.xml">
<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_vet_medication_tree" model="ir.ui.view">
        <field name="name">vet.medication.tree</field>
        <field name="model">vet.medication</field>
        <field name="arch" type="xml">
            <tree string="Medicamentos" editable="bottom">
                <field name="name" />
                <field name="price" />
                <field name="active" widget="boolean_toggle" />
            </tree>
        </field>
    </record>

    <record id="action_view_vet_medication" model="ir.actions.act_window">
        <field name="name">Cat√°logo de Medicamentos</field>
        <field name="res_model">vet.medication</field>
        <field name="view_mode">tree</field>
    </record>
</odoo>
</file>

<file path="views/vet_patient_views.xml">
<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Vista Tree (Lista) -->
    <record id="view_vet_patient_tree" model="ir.ui.view">
        <field name="name">vet.patient.tree</field>
        <field name="model">vet.patient</field>
        <field name="arch" type="xml">
            <tree string="Mascotas">
                <field name="name" />
                <field name="pet_breed" />
                <field name="age_pet" />
                <field name="partner_id" />
            </tree>
        </field>
    </record>

    <!-- Vista Form (Formulario) -->
    <record id="view_vet_patient_form" model="ir.ui.view">
        <field name="name">vet.patient.form</field>
        <field name="model">vet.patient</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <field name="image_patient" widget="image" class="oe_avatar" />
                    <div class="oe_title">
                        <h1>
                            <field name="name" />
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="partner_id" />
                            <field name="pet_breed" />
                        </group>
                        <group>
                            <field name="birth_date" />
                            <field name="age_pet" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Historial Cl√≠nico">
                            <field name="history_ids" readonly="1" />
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Acci√≥n de Ventana -->
    <record id="action_view_vet_patient" model="ir.actions.act_window">
        <field name="name">Mascotas</field>
        <field name="res_model">vet.patient</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>
</file>

<file path="views/vet_treatment_views.xml">
<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_vet_treatment_tree" model="ir.ui.view">
        <field name="name">vet.treatment.tree</field>
        <field name="model">vet.treatment</field>
        <field name="arch" type="xml">
            <tree string="Tratamientos">
                <field name="appointment_id" />
                <field name="diagnosis" />
            </tree>
        </field>
    </record>

    <record id="view_vet_treatment_form" model="ir.ui.view">
        <field name="name">vet.treatment.form</field>
        <field name="model">vet.treatment</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="appointment_id" />
                        <field name="diagnosis" />
                        <field name="medication_ids" widget="many2many_tags" />
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_view_vet_treatment" model="ir.actions.act_window">
        <field name="name">Historial de Tratamientos</field>
        <field name="res_model">vet.treatment</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>
</file>

<file path="__init__.py">
from . import models
from . import wizard
</file>

<file path=".gitignore">
__pycache__
</file>

<file path="models/inherit_account_payment.py">
from odoo import models, fields

class AccountPayment(models.Model):
    _inherit = 'account.payment'

    # Se crea la relaci√≥n inversa hacia la cita
    vet_appointment_id = fields.Many2one(
        'vet.appointment',
        string='Cita Veterinaria',
        readonly=True
    )

    vet_payment_method_type = fields.Selection([
        ('cash', 'Efectivo'),
        ('yape', 'Yape'),
        ('plin', 'Plin'),
        ('credit_card', 'Tarjeta de Credito'),
        ('debit_card', 'Tarjeta de Debito'),
        ('transfer', 'Transferencia'),
    ], string='Tipo de Pago')
</file>

<file path="models/vet_treatment.py">
from odoo import models, fields, api

class VetTreatment(models.Model):
    _name = 'vet.treatment'
    _description = 'Resultado m√©dico de una cita'
    
    _rec_name = 'name'

    name = fields.Char(string='Referencia', compute='_compute_name', store=True)

    appointment_id = fields.Many2one('vet.appointment', string='Cita relacionada', required=True)
    diagnosis = fields.Text(string='Diagn√≥stico m√©dico')
    medication_ids = fields.Many2many('vet.medication', string='Medicinas recetadas')

    @api.depends('appointment_id')
    def _compute_name(self):
        for rec in self:
            if rec.appointment_id:
                # El t√≠tulo ser√°: "Tratamiento de [CODIGO_CITA]"
                # Aseg√∫rate de que appointment_id tenga un campo 'code' o 'display_name'
                code = rec.appointment_id.code or 'Borrador'
                rec.name = f"Tratamiento de {code}"
            else:
                rec.name = "Nuevo Tratamiento"
</file>

<file path="views/inherit_res_partner_views.xml">
<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="res_partner_view_tree" model="ir.ui.view">
        <field name="name">res.partner.view.tree</field>
        <field name="model">res.partner</field>
        <field name="mode">primary</field>
        <field name="inherit_id" ref="base.view_partner_tree" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='email']" position="after">
                <field name="is_vet_doctor" optional="show" />
            </xpath>
        </field>
    </record>

    <record id="res_partner_view_kanban" model="ir.ui.view">
        <field name="name">res.partner.view.kanban</field>
        <field name="model">res.partner</field>
        <field name="mode">primary</field>
        <field name="inherit_id" ref="base.res_partner_kanban_view" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='id']" position="after">
                <field name="is_vet_doctor" />
            </xpath>
            <xpath expr="//div[hasclass('oe_kanban_details')]" position="inside">
                <div t-if="record.is_vet_doctor.raw_value" class="mt-1">
                    <span class="badge text-bg-info">Veterinario</span>
                </div>
            </xpath>
        </field>
    </record>

    <record id="res_partner_view_form" model="ir.ui.view">
        <field name="name">res.partner.view.form</field>
        <field name="model">res.partner</field>
        <field name="mode">primary</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='vat']" position="after">
                <field name="is_vet_doctor" />
                <field name="pet_ids" string="Mascotas" context="{'default_partner_id': active_id}" />
            </xpath>
        </field>
    </record>

</odoo>
</file>

<file path="views/vet_appointment_views.xml">
<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- 1. VISTA KANBAN (Tablero Visual) -->
    <record id="view_vet_appointment_kanban" model="ir.ui.view">
        <field name="name">vet.appointment.kanban</field>
        <field name="model">vet.appointment</field>
        <field name="arch" type="xml">
            <!-- quick_create="false" evita el error al obligar a abrir el formulario -->
            <kanban default_group_by="state"
                class="o_kanban_small_column"
                sample="1"
                quick_create="false">

                <field name="state" />
                <field name="partner_id" />
                <field name="pet_id" />
                <field name="date_time" />
                <field name="doctor_id" />
                <field name="amount_total" />
                <field name="currency_id" />
                <field name="id" />

                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click">
                            <!-- Encabezado de la tarjeta -->
                            <div class="o_kanban_record_top mb-2">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <i class="fa fa-paw text-primary" title="Paciente" />
                                        <field name="pet_id" />
                                    </strong>
                                </div>
                                <div class="o_dropdown_kanban dropdown">
                                    <a class="dropdown-toggle o-no-caret btn" role="button"
                                        data-bs-toggle="dropdown" href="#"
                                        aria-label="Dropdown menu" title="Dropdown menu">
                                        <span class="fa fa-ellipsis-v" />
                                    </a>
                                    <div class="dropdown-menu" role="menu">
                                        <a role="menuitem" type="edit" class="dropdown-item">Editar</a>
                                        <a role="menuitem" type="delete" class="dropdown-item">
                                            Eliminar</a>
                                    </div>
                                </div>
                            </div>

                            <!-- Cuerpo de la tarjeta -->
                            <div class="o_kanban_record_body text-muted">
                                <span class="d-block">
                                    <i class="fa fa-user" title="Due√±o" />
                                    <field name="partner_id" />
                                </span>
                                <span class="d-block mt-1">
                                    <i class="fa fa-clock-o" title="Hora" />
                                    <field name="date_time" />
                                </span>
                                <span t-if="record.doctor_id.raw_value"
                                    class="d-block mt-1 text-info">
                                    <i class="fa fa-user-md" title="Doctor" />
                                    <field name="doctor_id" />
                                </span>
                            </div>

                            <!-- Pie de la tarjeta -->
                            <div class="o_kanban_record_bottom mt-2">
                                <div class="oe_kanban_bottom_left">
                                    <field name="amount_total" widget="monetary"
                                        options="{'currency_field': 'currency_id'}"
                                        invisible="amount_total == 0" />
                                </div>
                                <div class="oe_kanban_bottom_right">
                                    <field name="state" widget="label_selection"
                                        options="{'classes': {'draft': 'default', 'confirmed': 'primary', 'done': 'success', 'cancel': 'danger'}}" />
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- 2. VISTA CALENDARIO -->
    <record id="view_vet_appointment_calendar" model="ir.ui.view">
        <field name="name">vet.appointment.calendar</field>
        <field name="model">vet.appointment</field>
        <field name="arch" type="xml">
            <calendar string="Agenda de Citas"
                date_start="date_time"
                color="state"
                mode="week"
                quick_create="0"
                event_open_popup="true">
                <field name="partner_id" />
                <field name="pet_id" />
                <field name="doctor_id" />
            </calendar>
        </field>
    </record>

    <!-- 3. VISTA TREE (Lista) -->
    <record id="vet_appointment_view_tree" model="ir.ui.view">
        <field name="name">vet.appointment.view.tree</field>
        <field name="model">vet.appointment</field>
        <field name="arch" type="xml">
            <tree string="Lista de Citas"
                decoration-muted="state == 'draft'"
                decoration-info="state == 'confirmed'"
                decoration-success="state == 'done'"
                decoration-danger="state == 'cancel'"
                sample="1">
                <field name="code" optional="hide" />
                <field name="date_time" />
                <field name="pet_id" />
                <field name="partner_id" />
                <field name="doctor_id" widget="many2one_avatar_user" optional="show" />
                <field name="amount_total" sum="Total" decoration-bf="1" />
                <field name="state" widget="badge"
                    decoration-muted="state == 'draft'"
                    decoration-info="state == 'confirmed'"
                    decoration-success="state == 'done'"
                    decoration-danger="state == 'cancel'" />
            </tree>
        </field>
    </record>

    <!-- 4. VISTA SEARCH (B√∫squeda) -->
    <record id="view_vet_appointment_search" model="ir.ui.view">
        <field name="name">vet.appointment.search</field>
        <field name="model">vet.appointment</field>
        <field name="arch" type="xml">
            <search string="Buscar Citas">
                <field name="pet_id" />
                <field name="partner_id" />
                <field name="doctor_id" />
                <field name="code" />

                <separator />
                <filter string="Citas de Hoy" name="today"
                    domain="[('date_time', '&gt;=', context_today().strftime('%Y-%m-%d 00:00:00')), ('date_time', '&lt;=', context_today().strftime('%Y-%m-%d 23:59:59'))]" />
                <filter string="Confirmadas" name="confirmed" domain="[('state', '=', 'confirmed')]" />

                <group expand="0" string="Agrupar por">
                    <filter string="Doctor" name="group_by_doctor"
                        context="{'group_by': 'doctor_id'}" />
                    <filter string="Estado" name="group_by_state" context="{'group_by': 'state'}" />
                    <filter string="Fecha" name="group_by_date"
                        context="{'group_by': 'date_time:day'}" />
                </group>
            </search>
        </field>
    </record>

    <!-- 5. VISTA FORM (Formulario) -->
    <record id="vet_appointment_view_form" model="ir.ui.view">
        <field name="name">vet.appointment.view.form</field>
        <field name="model">vet.appointment</field>
        <field name="arch" type="xml">
            <form string="Registro de cita">
                <header>
                    <button name="action_confirm" string="Confirmar Cita" type="object"
                        class="oe_highlight" invisible="state != 'draft'" data-hotkey="v" />
                    <button name="action_done" string="Finalizar Atenci√≥n" type="object"
                        class="oe_highlight"
                        invisible="state != 'confirmed'" data-hotkey="z" />

                    <!-- Bot√≥n para Registrar Pago (Abre Pop-up) -->
                    <button name="%(account.action_account_payments)d"
                        string="Registrar Pago"
                        type="action"
                        class="btn-primary"
                        invisible="state != 'done'"
                        context="{
                                'default_payment_type': 'inbound',
                                'default_partner_type': 'customer',
                                'default_partner_id': partner_id,
                                'default_amount': amount_total,
                                'default_vet_appointment_id': id,
                                'default_vet_payment_method_type': 'cash'
                            }" />

                    <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,done" />
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="code" readonly="1" />
                        </h1>
                    </div>
                    <group>
                        <group string="Informaci√≥n del Paciente">
                            <field name="partner_id" widget="res_partner_many2one"
                                context="{'show_address': 1}" options="{'always_reload': True}" />
                            <field name="pet_id" domain="[('partner_id', '=', partner_id)]"
                                context="{'default_partner_id': partner_id}" />
                        </group>
                        <group string="Programaci√≥n">
                            <field name="date_time" />
                            <field name="doctor_id" widget="many2one_avatar_user" />
                            <field name="currency_id" invisible="1" />
                            <field name="amount_total" widget="monetary" />
                        </group>
                    </group>
                    <separator string="Notas y Observaciones" />
                    <field name="description" placeholder="Describa el motivo de la consulta..." />

                    <notebook>
                        <page string="Pagos Registrados">
                            <field name="payment_ids" readonly="1" />
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

</odoo>
</file>

<file path="models/inherit_res_partner.py">
from odoo import models, fields

class InheritResPartner(models.Model):
    _inherit = 'res.partner'
    
    is_vet_doctor = fields.Boolean(
        default=False,
        help="Es un veterinario?") 
           
    pet_ids = fields.One2many(
        'vet.patient', 
        'partner_id',
        string="Mascotas")
</file>

<file path="models/vet_medication.py">
from odoo import models, fields

class VetMedication(models.Model):
    _name = 'vet.medication'
    _description = 'Modelo de cat√°logo de medicamentos'

    name = fields.Char(string='Medicamento', required=True)
    active = fields.Boolean(string='Activo', default=True)
    price = fields.Float(string='Precio unitario')
</file>

<file path="models/vet_patient.py">
from odoo import models, fields, api
from dateutil.relativedelta import relativedelta
from datetime import date

class VetPatient(models.Model):
    _name = 'vet.patient'
    _description = 'Modelo de pacientes (mascotas)'

    name = fields.Char(string='Nombre de Mascota', required=True)
    birth_date = fields.Date(string='Fecha de nacimiento')
    
    age_pet = fields.Char(string='Edad', compute='_compute_age')
    
    pet_breed = fields.Char(string='Raza')
    image_patient = fields.Binary(string='Imagen')
    partner_id = fields.Many2one('res.partner', string='Due√±o', required=True)
    
    history_ids = fields.One2many('vet.appointment', 'pet_id', string='Historial de citas')

    @api.depends('birth_date')
    def _compute_age(self):
        for record in self:
            if record.birth_date:
                d = relativedelta(date.today(), record.birth_date)
                record.age_pet = f"{d.years} a√±os, {d.months} meses"
            else:
                record.age_pet = "Sin fecha"
</file>

<file path="models/__init__.py">
from . import vet_patient
from . import vet_appointment
from . import vet_medication
from . import vet_treatment
from . import inherit_res_partner
from . import inherit_account_payment
</file>

<file path="security/ir.model.access.csv">
id,name,model_id:id,group_id:id,perm_read,perm_write,perm_create,perm_unlink
access_vet_patient,vet.patient.access,model_vet_patient,base.group_user,1,1,1,1
access_vet_appointment,vet.appointment.access,model_vet_appointment,base.group_user,1,1,1,1
access_vet_medication,vet.medication.access,model_vet_medication,base.group_user,1,1,1,1
access_vet_treatment,vet.treatment.access,model_vet_treatment,base.group_user,1,1,1,1
</file>

<file path="models/vet_appointment.py">
from odoo import models, fields, api, _

class VetAppointment(models.Model):
    _name = 'vet.appointment'
    _description = 'Cita Veterinaria'
    _rec_name = 'code'

    code = fields.Char(string='Referencia', required=True, copy=False, readonly=True, default=lambda self: _('Nuevo'))
    
    date_time = fields.Datetime(string='Fecha y hora', default=fields.Datetime.now, required=True)
    
    partner_id = fields.Many2one('res.partner', string="Due√±o", required=True)
    
    pet_id = fields.Many2one('vet.patient', string='Paciente', required=True)
    
    doctor_id = fields.Many2one('res.partner', string='Doctor', domain=[('is_vet_doctor', '=', True)])
    
    state = fields.Selection(
        [
            ('draft', 'Borrador'),
            ('confirmed', 'Confirmado'),
            ('done', 'Realizado'),
            ('cancel', 'Cancelado')
        ], default='draft', string="Estado"
    )
    
    description = fields.Text(string='Observaciones iniciales')

    amount_total = fields.Monetary(string='Total', currency_field='currency_id', default=0.0)
    currency_id = fields.Many2one('res.currency', string='Moneda', default=lambda self: self.env.company.currency_id)

    payment_ids = fields.One2many(
        'account.payment',
        'vet_appointment_id',
        string='Pagos realizados'
    )

    def action_confirm(self):
        for rec in self:
            rec.state = 'confirmed'
            if rec.code == 'Nuevo':
                rec.code = self.env['ir.sequence'].next_by_code('vet.appointment') or 'CITA-000'

    def action_done(self):
        for rec in self:
            rec.state = 'done'
</file>

<file path="__manifest__.py">
{
    'name': 'Lummy Vet',
    'version': '17.0.1.0.0',
    'summary': 'Gesti√≥n de cl√≠nica veterinaria',
    'description': """Un sistema para Lummy-Vet que permite administrar sus pacientes (mascotas),
                    sus due√±os (clientes), las citas m√©dicas y el historial cl√≠nico""",
    'author': 'Lummy Vet Team (A. Marquina, G. Jaramillo)',
    'category': 'Servicio m√©dico',

    'depends': [
        'base',
        'contacts',
        'account',
    ],

    'data': [
        'security/ir.model.access.csv',

        'views/vet_patient_views.xml',
        'views/vet_treatment_views.xml',
        'views/vet_medication_views.xml',
        'views/vet_appointment_views.xml',
        'views/inherit_res_partner_views.xml',
        'views/inherit_account_payment_views.xml',

        'views/menus.xml'
    ],

    'demo': [],
    
    'auto_install': True,
    'application': True,
    'web_icon': 'lummy_vet,static/description/icon.png',
}
</file>

<file path="README.md">
<!-- INICIO DE LA DOCUMENTACI√ìN DEL PROYECTO -->
<br />
<div align="center">
  <a href="https://github.com/tu-usuario/lummy-vet">
    <!-- Ajusta la ruta de la imagen si es necesario -->
    <img src="static/description/icon.png" alt="Logo Lummy Vet" width="150" height="150">
  </a>

  <h3 align="center">Lummy Vet (VetOdoo)</h3>

  <p align="center">
    Sistema de gesti√≥n integral para cl√≠nicas veterinarias: Pacientes, Citas, Tratamientos y Pagos.
    <br />
    <br />
    <a href="https://github.com/tu-usuario/lummy-vet"><strong>Explora la documentaci√≥n ¬ª</strong></a>
    <br />
    <br />
    <a href="#">Ver Demostraci√≥n</a>
  </p>
</div>

<!-- ACERCA DEL PROYECTO -->
## üêæ Acerca del Proyecto

<br>

**Lummy Vet** es un m√≥dulo personalizado para **Odoo 17** dise√±ado para centralizar la administraci√≥n de una cl√≠nica veterinaria. Este proyecto nace para solucionar la p√©rdida de trazabilidad en historiales m√©dicos y la gesti√≥n manual de citas.

El sistema permite optimizar el flujo de trabajo desde la admisi√≥n hasta el cobro, garantizando que los due√±os y sus mascotas tengan un expediente claro, y que los doctores cuenten con herramientas r√°pidas para diagn√≥sticos y recetas.

### Tecnolog√≠as
<div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px;">

  [![Odoo](https://img.shields.io/badge/Odoo-714B67?style=for-the-badge&logo=odoo&logoColor=white)](https://www.odoo.com/)
  [![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/)
  [![XML](https://img.shields.io/badge/XML-orange?style=for-the-badge&logo=xml&logoColor=white)](https://www.w3.org/XML/)
  [![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
  [![Git](https://img.shields.io/badge/git-%23F05033.svg?style=for-the-badge&logo=git&logoColor=white)](https://git-scm.com/)

</div>

<!-- ARQUITECTURA -->
## üèó Arquitectura del Sistema

Este proyecto implementa una **Arquitectura Modular por Features (Screaming Architecture)** para mejorar la mantenibilidad y el orden del c√≥digo.

```text
lummy_vet/
‚îú‚îÄ‚îÄ models/             # L√≥gica de negocio y definici√≥n de datos (ORM)
‚îÇ   ‚îú‚îÄ‚îÄ inherit_res_partner.py  # Extensi√≥n de contactos (Due√±os/Doctores)
‚îÇ   ‚îú‚îÄ‚îÄ vet_appointment.py      # L√≥gica de Citas
‚îÇ   ‚îú‚îÄ‚îÄ vet_patient.py          # L√≥gica de Mascotas
‚îÇ   ‚îú‚îÄ‚îÄ vet_payment.py          # L√≥gica de Pagos
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ views/              # Interfaz de usuario (XML)
‚îÇ   ‚îú‚îÄ‚îÄ menus.xml               # Estructura de navegaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ vet_appointment.xml     # Vistas de Citas
‚îÇ   ‚îú‚îÄ‚îÄ vet_payment_views.xml   # Vistas de Pagos
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ security/           # Reglas de acceso (ACLs)
‚îú‚îÄ‚îÄ static/             # Recursos est√°ticos (Im√°genes, CSS)
‚îú‚îÄ‚îÄ wizard/             # Asistentes (Wizards)
‚îî‚îÄ‚îÄ __manifest__.py     # Metadatos del m√≥dulo
```

<!-- MIEMBROS DEL EQUIPO -->
## üë• Miembros del Equipo

<table>
  <tr>
    <td align="center">
      <a href="https://github.com/tu-usuario-alessandro">
        <img src="https://ui-avatars.com/api/?name=Alessandro+Marquina&background=0D8ABC&color=fff&size=128" width="100px" style="border-radius:50%"/>
        <br />
        <sub><b>Alessandro Marquina</b></sub>
      </a>
      <br />
      Software Developer
    </td>
    <td align="center">
      <a href="https://github.com/tu-usuario-geraldo">
        <img src="https://ui-avatars.com/api/?name=Geraldo+Jaramillo&background=0D8ABC&color=fff&size=128" width="100px" style="border-radius:50%"/>
        <br />
        <sub><b>Geraldo Jaramillo</b></sub>
      </a>
      <br />
      Software Developer
    </td>
  </tr>
</table>
</file>

<file path="views/menus.xml">
<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Acci√≥n Citas -->
    <record id="action_view_vet_appointment" model="ir.actions.act_window">
        <field name="name">Citas</field>
        <field name="res_model">vet.appointment</field>
        <field name="view_mode">kanban,calendar,tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                ¬°Agenda tu primera cita!
            </p>
        </field>
    </record>

    <!-- Acci√≥n Pagos (Solo ingresos de clientes) -->
    <record id="action_account_payments_vet" model="ir.actions.act_window">
        <field name="name">Pagos</field>
        <field name="res_model">account.payment</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('partner_type', '=', 'customer')]</field>
        <field name="context">{'default_partner_type': 'customer', 'default_payment_type':
            'inbound'}</field>
    </record>

    <!-- Acci√≥n Due√±os (Clientes) -->
    <record id="action_view_res_partner_owners" model="ir.actions.act_window">
        <field name="name">Due√±os</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">kanban,tree,form</field>
    </record>

    <!-- Acci√≥n Doctores (Configuraci√≥n) -->
    <record id="action_view_res_partner_doctors" model="ir.actions.act_window">
        <field name="name">Doctores</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="domain">[('is_vet_doctor', '=', True)]</field>
        <field name="context">{'default_is_vet_doctor': True}</field>
    </record>

    <!-- MEN√ö RA√çZ (Nivel 0) -->
    <menuitem
        id="lummy_vet_menu_root"
        name="Lummy Vet"
        web_icon="lummy_vet,static/description/icon.png"
        sequence="10" />

    <!-- 1. RECEPCI√ìN (Nivel 1) -->
    <menuitem
        id="menu_group_reception"
        name="Recepci√≥n"
        parent="lummy_vet_menu_root"
        sequence="10" />

    <!-- Nivel 2 -->
    <menuitem id="menu_reception_appointments" name="Citas" parent="menu_group_reception"
        action="action_view_vet_appointment" sequence="10" />
    <menuitem id="menu_reception_payments" name="Pagos" parent="menu_group_reception"
        action="action_account_payments_vet" sequence="20" />


    <!-- 2. PACIENTES Y DUE√ëOS (Nivel 1) -->
    <menuitem
        id="menu_group_patients_owners"
        name="Pacientes y Due√±os"
        parent="lummy_vet_menu_root"
        sequence="20" />

    <!-- Nivel 2 -->
    <menuitem id="menu_patients_pet" name="Mascotas" parent="menu_group_patients_owners"
        action="action_view_vet_patient" sequence="10" />
    <menuitem id="menu_patients_owner" name="Due√±os" parent="menu_group_patients_owners"
        action="action_view_res_partner_owners" sequence="20" />


    <!-- 3. CONSULTORIO M√âDICO (Nivel 1) -->
    <menuitem
        id="menu_group_medical"
        name="Consultorio M√©dico"
        parent="lummy_vet_menu_root"
        sequence="30" />

    <!-- Nivel 2 -->
    <menuitem id="menu_medical_history" name="Tratamientos" parent="menu_group_medical"
        action="action_view_vet_treatment" sequence="20" />


    <!-- 4. CONFIGURACI√ìN (Nivel 1) -->
    <menuitem
        id="menu_group_config"
        name="Configuraci√≥n"
        parent="lummy_vet_menu_root"
        sequence="40" />

    <!-- Nivel 2 -->
    <menuitem id="menu_config_medication" name="Medicamentos" parent="menu_group_config"
        action="action_view_vet_medication" sequence="10" />
    <menuitem id="menu_config_doctors" name="Doctores" parent="menu_group_config"
        action="action_view_res_partner_doctors" sequence="20" />

</odoo>
</file>

</files>
